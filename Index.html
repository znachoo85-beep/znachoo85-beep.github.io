<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>驴Me Amas? - El Reto</title>
    <!-- Cargamos Tailwind CSS para un dise帽o moderno y responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos base de la p谩gina */
        body {
            background-color: #f8fafc; /* Color de fondo muy claro */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden; /* Evita barras de desplazamiento cuando el bot贸n "No" se mueve */
        }

        .card {
            background-color: white;
            padding: 2.5rem;
            border-radius: 1rem; /* Esquinas redondeadas */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            max-width: 450px;
            width: 90%;
            text-align: center;
            z-index: 10; /* Asegura que la tarjeta est茅 encima del bot贸n de "No" */
        }

        /* Estilo para el bot贸n "No" que se va a mover y reducir */
        #btnNo {
            position: absolute;
            /* Aplicamos transici贸n suave para el movimiento y el tama帽o (transform) */
            transition: transform 0.2s ease-out, background-color 0.1s; 
            z-index: 5;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px; /* Bot贸n s煤per redondeado */
            font-weight: 600;
            color: white;
            background-color: #f44336; /* Rojo */
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 1rem;
        }

        #btnNo:hover {
            background-color: #e53935; /* Un poco m谩s oscuro al pasar el rat贸n */
        }

        /* Oculta el bot贸n cuando se acepta el "S铆" */
        #btnNo.hidden {
            display: none;
        }

        /* Estilo para el mensaje final de respuesta "S铆" */
        .respuesta-si {
            color: #d81b60; /* Un tono rosa de amor */
            font-size: 1.5rem;
            font-weight: 700;
        }
    </style>
</head>
<body>

    <!-- Contenedor principal del juego -->
    <div id="gameContainer" class="flex flex-col items-center justify-center w-full h-full">

        <!-- Tarjeta de la pregunta inicial / mensaje final -->
        <div id="questionCard" class="card">
            <!-- La pregunta inicial -->
            <h1 id="questionText" class="text-3xl font-extrabold text-pink-600 mb-6">
                驴Me amas?
            </h1>

            <!-- Contenedor de los botones -->
            <div id="buttonsContainer" class="flex justify-center space-x-4">
                <button 
                    id="btnSi"
                    onclick="handleYes()"
                    class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-150 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300">
                    S铆
                </button>
            </div>
            
            <!-- Mensaje de respuesta (inicialmente vac铆o) -->
            <p id="answerMessage" class="mt-8 respuesta-si hidden">
                <!-- Aqu铆 ir谩 el mensaje de "yo tambi茅n te amo" -->
            </p>
        </div>

        <!-- Bot贸n "No" separado para que pueda ser posicionado absolutamente -->
        <!-- La funci贸n moveNoButton() se llama en cada clic -->
        <button id="btnNo" onclick="moveNoButton()">No</button>

    </div>

    <script>
        // Variables globales para acceder a los elementos del HTML
        const questionCard = document.getElementById('questionCard');
        const questionText = document.getElementById('questionText');
        const buttonsContainer = document.getElementById('buttonsContainer');
        const answerMessage = document.getElementById('answerMessage');
        const btnNo = document.getElementById('btnNo');

        // --- Variables para el control de escala y repetici贸n ---
        let noScale = 1.0; // Escala inicial (100%)
        const SCALE_DECREMENT = 0.05; // Se reduce 5% con cada clic
        const MIN_SCALE = 0.5; // Escala m铆nima para que no desaparezca
        const SAFE_MARGIN = 40; // Margen de seguridad en p铆xeles para asegurar visibilidad

        
        // --- L贸gica del bot贸n "S铆" ---
        function handleYes() {
            // 1. Mostrar el mensaje de amor
            answerMessage.textContent = '隆Aaa yo tambi茅n mi amor hermosa! グ';
            answerMessage.classList.remove('hidden');

            // 2. Ocultar la pregunta y el bot贸n "S铆"
            questionText.classList.add('hidden');
            buttonsContainer.classList.add('hidden');
            
            // 3. Ocultar el bot贸n "No"
            btnNo.classList.add('hidden');

            // 4. Ajustar el estilo de la tarjeta final
            questionCard.style.maxWidth = '300px'; 
        }

        // --- L贸gica del bot贸n "No" que se mueve y encoge ---
        function moveNoButton() {
            // 1. Obtener las dimensiones de la ventana
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            
            // 2. Obtener las dimensiones del bot贸n "No"
            const btnRect = btnNo.getBoundingClientRect();
            const btnWidth = btnRect.width * noScale; // Usar el tama帽o escalado
            const btnHeight = btnRect.height * noScale; // Usar el tama帽o escalado
            
            // 3. Definir l铆mites de movimiento para asegurar que el bot贸n siempre sea visible
            const maxX = windowWidth - btnWidth - SAFE_MARGIN;
            const maxY = windowHeight - btnHeight - SAFE_MARGIN;
            const minX = SAFE_MARGIN;
            const minY = SAFE_MARGIN;


            let newX = Math.random() * (maxX - minX) + minX;
            let newY = Math.random() * (maxY - minY) + minY;
            
            // 4. Evitar que el bot贸n "No" caiga encima de la tarjeta central
            const cardRect = questionCard.getBoundingClientRect();
            let attempts = 0;
            while (
                // Chequeo de colisi贸n con la tarjeta central
                newX < cardRect.right && 
                newX + btnWidth > cardRect.left && 
                newY < cardRect.bottom && 
                newY + btnHeight > cardRect.top &&
                attempts < 100 
            ) {
                // Si hay colisi贸n con la tarjeta central, recalcula la posici贸n
                newX = Math.random() * (maxX - minX) + minX;
                newY = Math.random() * (maxY - minY) + minY;
                attempts++;
            }

            // --- REDUCIR TAMAO PROGRESIVAMENTE ---
            noScale = Math.max(MIN_SCALE, noScale - SCALE_DECREMENT);
            
            // 5. Aplicar la nueva posici贸n y la escala usando transform
            btnNo.style.left = `${newX}px`;
            btnNo.style.top = `${newY}px`;
            btnNo.style.transform = `scale(${noScale})`; // Solo aplicamos la escala aqu铆

            // 6. El texto de la pregunta NO se modifica para cumplir con el requisito
            // questionText.textContent = '驴Me amas?'; // Ya est谩 configurado as铆 al inicio
        }

        // 7. Inicializar el bot贸n "No" en una posici贸n fija (al lado del "S铆") al cargar la p谩gina
        window.onload = () => {
            // Cambiamos la posici贸n inicial del bot贸n "No" de 'absolute' usando 'left' y 'top' en lugar de 'transform: translate' para un posicionamiento absoluto m谩s limpio.
            btnNo.style.position = 'fixed'; 

            const btnSiRect = document.getElementById('btnSi').getBoundingClientRect();
            
            // Calcular posici贸n inicial justo a la derecha del bot贸n "S铆"
            const initialX = btnSiRect.right + 20; // 20px a la derecha del bot贸n "S铆"
            const initialY = btnSiRect.top; // A la misma altura que el bot贸n "S铆"
            
            // Aplicar la posici贸n inicial
            btnNo.style.left = `${initialX}px`;
            btnNo.style.top = `${initialY}px`;
            btnNo.style.transform = `scale(${noScale})`; 

            // Hacerlo visible 
            btnNo.classList.remove('hidden'); 
        };

        // Escuchar el evento de redimensionamiento de la ventana para recalcular la posici贸n
        window.addEventListener('resize', () => {
            if (!btnNo.classList.contains('hidden')) {
                // Si la ventana cambia de tama帽o, forzamos al bot贸n "No" a saltar a una nueva posici贸n v谩lida
                moveNoButton(); 
            }
        });

    </script>
</body>
</html>